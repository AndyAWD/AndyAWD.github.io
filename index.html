<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta property="og:title" content="你的社群語言"/>
        <meta property="og:description" content="嘿，準備好來場輕鬆有趣的自我探索了嗎？快來參加測試找出「你的社群語言」吧！透過這個有趣的小測驗，你將解鎖「DevFest 2024 高雄場」的各項優惠，還能結交志同道合的「碼友」呢。"/>
        <meta property="og:type" content="website"/>
        <link href="bootstrap.min.css" rel="stylesheet" />
        <link href="index.css" rel="stylesheet" />
        <link rel="icon" type="image/x-icon" href="assets/icon.png" />
        <title>你的社群語言</title>
    </head>
    <body class="p-3 p-md-5 pt-0 pt-md-0 quizBackground">
        <div class="logo">
            <img src="assets/logo.png" alt="logo" />
        </div>
        <div class="content p-3 p-md-5 pt-4 pt-md-4 shadow">
            <div id="quizWrapper">
                <h1 class="text-center mb-3">你的社群語言？</h1>
                <p>
                    嘿，準備好來場輕鬆有趣的自我探索了嗎？快來參加測試找出「你的社群語言」吧！透過這個有趣的小測驗，你將解鎖「DevFest 2024 高雄場」各項優惠，還能結交志同道合的「碼友」呢。<br><br>
                    請選出最符合你的選項：
                </p>
                <div id="quiz" class="quiz">
                    <!-- 問題將在這裡動態生成 -->
                </div>
                <div class="d-grid pt-3">
                    <button class="btn btn-primary" id="submit">
                        提交答案
                    </button>
                </div>
            </div>
            <div id="resultWrapper" style="display: none">
                <h2 class="text-center mb-4">你的社群語言是：</h2>
                <div class="resultCard">
                    <div id="result" class="result p-1 p-md-4 text-center">
                        <!-- 結果將在這裡顯示 -->
                        <img src="001.jpg" alt="ISTJ" />
                    </div>
                </div>

                <div class="mt-4">
                    <h3 class="text-center"><b>DevFest 2024 高雄場</b></h3>
                    <div class="text-center">2024/11/23 (星期六)</div>
                    <div class="text-center">
                        <a
                            href="https://maps.app.goo.gl/AFjjmN7vA3bLdeBe6"
                            target="_blank"
                        >
                            KO-IN 智高點
                        </a>
                    </div>
                    <div class="text-center mt-2">
                        <a
                            href="https://www.google.com/calendar/render?action=TEMPLATE&text=Devfest%202024%20Kaohsiung&dates=20241123T080000/20241123T180000&details=Devfest%202024%20Kaohsiung&location=KO-IN智高點"
                            target="_blank"
                            class="me-3 btn btn-secondary"
                        >
                            加入行事曆
                        </a>
                        <a
                            href="https://devbuffet.oen.tw/events/2k19FI3u9eDVp9ThQVxjZauJ2Rh?utm_source=web&utm_term=gdg_community&utm_medium=post"
                            target="_blank"
                            class="btn btn-primary"
                        >
                            <!-- 這個活動連結的 tracking code 記得更換 -->
                            購票連結
                        </a>
                    </div>
                </div>
                <div class="mt-4 text-center">
                    <h4><b>活動一：折價優惠</b></h4>
                    <p>購票時，輸入你的「社群語言」（例如：0x1110），即可享 $100 折扣。</p>
                    <h4><b>活動二：尋找碼友</b></h4>
                    <p>
                        1. 活動當天尋找其他三位「社群語言」不同的參與者，組成一組<br>
                        （例如：0001、0010、0100、1000）。<br>
                        2. 全組一起到服務台，分享「社群語言」到任何一個社群媒體上<br>
                        3. 獲得限量帆布袋。<br>
                    </p>
                </div>
            </div>
        </div>

        <script>
            const questions = [
                {
                    question: "在社群或研討會的交流時間，你傾向於：",
                    answers: {
                        a: "主動找人聊天，分享自己的經驗和想法。",
                        b: "在座位上休息，等待下一場議程的到來。",
                    },
                    dimension: "EI",
                },
                {
                    question: "在社群或研討會上聽到不懂的問題，你傾向於：",
                    answers: {
                        a: "與講者或會眾交流討論，集思廣益。",
                        b: "獨自思考，查閱相關資料深入研究。",
                    },
                    dimension: "EI",
                },
                {
                    question: "參加社群或或研討會，你傾向於：",
                    answers: {
                        a: "與同事朋友們一起參加。",
                        b: "獨自報名參加。",
                    },
                    dimension: "EI",
                },
                {
                    question: "在社群或研討會聽到一個很棒的技術，你通常會：",
                    answers: {
                        a: "立即思考如何將其應用到專案中。",
                        b: "閱讀文件，深入瞭解其原理和實作細節。",
                    },
                    dimension: "SN",
                },
                {
                    question:
                        "在社群或研討會問與答的環節，輪到你發問，你通常會：",
                    answers: {
                        a: "探討技術的未來發展。",
                        b: "詢問技術的實作細節。",
                    },
                    dimension: "SN",
                },
                {
                    question: "當你個人想要學習新技術時，你通常會：",
                    answers: {
                        a: "選擇創新，是否為最創新的技術。",
                        b: "選擇穩定，社群支援和生態系統。",
                    },
                    dimension: "SN",
                },
                {
                    question: "當你在公司想要導入新技術時，你更關注：",
                    answers: {
                        a: "當下最新的技術。",
                        b: "多年穩定的技術。",
                    },
                    dimension: "TF",
                },
                {
                    question: "在社群或研討會討論技術問題時，你更關注：",
                    answers: {
                        a: "邏輯分析和系統思考。",
                        b: "直覺和過往經驗。",
                    },
                    dimension: "TF",
                },
                {
                    question: "在社群或研討會有人跟你請教問題時，你更關注：",
                    answers: {
                        a: "提供多個面向的選擇給對方思考。",
                        b: "依照經驗給對方一個最好的答案。",
                    },
                    dimension: "TF",
                },
                {
                    question: "參加社群或研討會後，你會希望：",
                    answers: {
                        a: "仔細評估新技術，制定學習計畫。",
                        b: "立即嘗試將學到的新技術實作到專案中。",
                    },
                    dimension: "JP",
                },
                {
                    question: "如果你要舉辦一場社群或研討會，你會希望：",
                    answers: {
                        a: "精心設計的流程和時間安排。",
                        b: "靈活的議程安排，根據現場情況調整。",
                    },
                    dimension: "JP",
                },
                {
                    question: "當社群或研討會的多軌議程公開後，你會希望：",
                    answers: {
                        a: "規劃一日議程清單，完全不浪費時間。",
                        b: "到會場再決定要聽的議程，隨心所欲。",
                    },
                    dimension: "JP",
                },
            ];

            const results = {
                ISTJ: {
                    description:
                        "你是社群中的可靠貢獻者。你注重細節，善於系統性地解決問題。你的提案讓活動精緻。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/001.jpg",
                    binary: "0000",
                    characters: ["謹慎", "組織", "專注", "邏輯", "可靠"],
                    friend: "ESFP、ESTP",
                    number: "1001、1000",
                },
                ISFJ: {
                    description:
                        "你是社群中的細心支持者。你重視志工的需求，善於解決衝突。你的協調讓社群持續穩定",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/002.jpg",
                    binary: "0001",
                    characters: ["細心", "支持", "實際", "忠誠", "安靜"],
                    friend: "ESFP、ESTP",
                    number: "1001、1000",
                },
                INFJ: {
                    description:
                        "你是社群中的遠見者。你注重人際關係，認識很多厲害的講者。你的邀約讓活動不缺講者。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/003.jpg",
                    binary: "0010",
                    characters: ["洞察", "理想", "創新", "深思", "溫和"],
                    friend: "ENFP、ENTP",
                    number: "1010、1011",
                },
                INTJ: {
                    description:
                        "你是社群中的活動規劃者。你善於規劃各項活動，並且調度有方。你的安排讓活動順利進行。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/004.jpg",
                    binary: "0011",
                    characters: ["戰略", "獨立", "分析", "遠見", "決斷"],
                    friend: "ENFP、ENTP",
                    number: "1010、1011",
                },
                ISTP: {
                    description:
                        "你是社群中的技術 Master。你對各種技術都很瞭解，能快速解決複雜的技術難題。你在社群背後有巨大的貢獻。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/005.jpg",
                    binary: "0100",
                    characters: ["靈活", "觀察", "實用", "冷靜", "適應"],
                    friend: "ESFJ、ESTJ",
                    number: "1101、1100",
                },
                ISFP: {
                    description:
                        "你是社群中的體驗專家。你善於從不同的角度思考問題。你的付出讓與會者舒服愉快的參與活動。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/006.jpg",
                    binary: "0101",
                    characters: ["藝術", "和諧", "開放", "靈敏", "謙遜"],
                    friend: "ENFJ、ESFJ",
                    number: "1110、1101",
                },
                INFP: {
                    description:
                        "你是社群中的創意之源。你提出有趣的想法，想出好玩的大地遊戲。你的提案讓與會者參加活動會非常開心。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/007.jpg",
                    binary: "0110",
                    characters: ["富同情心", "創意", "理想", "好奇", "熱情"],
                    friend: "ENFJ、ENTJ",
                    number: "1110、1111",
                },
                INTP: {
                    description:
                        "你是社群中的視覺設計師。你畫出最適合的風格設計，你的設計讓官網的品質很有質感。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/008.jpg",
                    binary: "0111",
                    characters: ["邏輯", "創新", "概念", "好奇", "獨立"],
                    friend: "ENTJ、ESTJ",
                    number: "1111、1100",
                },
                ESTP: {
                    description:
                        "你是社群中的問題解決者。你在活動中能應對各種突發狀況。你的靈活處理讓活動能順利進行。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/009.jpg",
                    binary: "1000",
                    characters: ["活躍", "果斷", "實用", "冒險", "適應"],
                    friend: "ISFJ、ISTJ",
                    number: "0001、0000",
                },
                ESFP: {
                    description:
                        "你是社群中的活力之源。你善於組織線下聚會，提高團隊士氣。你的熱情能感染其他志工，增加社群互動。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/010.jpg",
                    binary: "1001",
                    characters: ["熱情", "友善", "即興", "樂觀", "活潑"],
                    friend: "ISFJ、ISTJ",
                    number: "0001、0000",
                },
                ENFP: {
                    description:
                        "你是社群中的創新推動者。你充滿新想法，善於製作有趣的紀念品。你的創新商品讓年會增加額外收入。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/011.jpg",
                    binary: "1010",
                    characters: ["熱情", "創意", "靈活", "樂觀", "富同情心"],
                    friend: "INFJ、INTJ",
                    number: "0010、0011",
                },
                ENTP: {
                    description:
                        "你是社群中的思想領袖。你善於經營社群，嘗試不同做法。你的想法能讓社群有獨特的道路。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/012.jpg",
                    binary: "1011",
                    characters: ["創新", "機智", "適應", "好辯", "活躍"],
                    friend: "INFJ、INTJ",
                    number: "0010、0011",
                },
                ESTJ: {
                    description:
                        "你是社群中的組織者。你主辦和統籌所有的事情，你燃燒生命的行為讓社群年年有年會。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/013.jpg",
                    binary: "1100",
                    characters: ["果斷", "組織", "實際", "直接", "負責"],
                    friend: "INTP、ISFP",
                    number: "0111、0101",
                },
                ESFJ: {
                    description:
                        "你是社群中的和諧促進者。你善於處理人際關係，協調不同觀點。你的存在讓社群經營更加穩定。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/014.jpg",
                    binary: "1101",
                    characters: ["友善", "合作", "負責", "組織", "細心"],
                    friend: "ISFP、ISTP",
                    number: "0101、ISTP",
                },
                ENFJ: {
                    description:
                        "你是社群中的激勵者。你能看見他人潛力並且給予鼓勵。你的眼光讓社群總是能找到志工和培養組長。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/015.jpg",
                    binary: "1110",
                    characters: ["富同情心", "鼓舞", "領導", "理想", "有說服力"],
                    friend: "INFP、ISFP",
                    number: "0110、0101",
                },
                ENTJ: {
                    description:
                        "你是社群中的願景實現者。你具有出色的商業思維。你的想法讓年會總是有廠商願意贊助。",
                    image: "http://w4.loxa.edu.tw/ly955026/Picture/KUSO/016.jpg",
                    binary: "1111",
                    characters: ["果斷", "戰略", "領導", "自信", "有魄力"],
                    friend: "INFP、INTP",
                    number: "0110、0111",
                },
            };

            function buildQuiz() {
                const output = [];
                questions.forEach((question, index) => {
                    const answers = [];
                    for (letter in question.answers) {
                        answers.push(
                            `<div class="form-check ms-4">
                        <input class="form-check-input" type="radio" name="question${index}" value="${letter}" id="question${index}-${letter}">
                        <label class="form-check-label" for="question${index}-${letter}">
                            ${question.answers[letter]}
                        </label>
                        </div>`
                        );
                    }
                    output.push(
                        `<div class="question">
                        <p class="mb-2 mt-3">${question.question}</p>
                        ${answers.join("")}
                    </div>`
                    );
                });
                quizContainer.innerHTML = output.join("");
            }

            function showResults() {
                const answerContainers =
                    quizContainer.querySelectorAll(".question");
                let mbti = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
                const exitingResult = window.localStorage.getItem("mbti");

                if (exitingResult) {
                    resultContainer.innerHTML = `
                        <img src="${results[exitingResult].image}" alt="${exitingResult}">
                    `;
                    resultWrapper.style.display = "block";
                    quizWrapper.style.display = "none";
                    body.classList.add("resultBackground");
                    body.classList.remove("quizBackground");
                    return;
                }

                questions.forEach((question, index) => {
                    const answerContainer = answerContainers[index];
                    const selector = `input[name=question${index}]:checked`;
                    const userAnswer = (
                        answerContainer.querySelector(selector) || {}
                    ).value;

                    if (userAnswer === "a") {
                        mbti[question.dimension[0]]++;
                    } else if (userAnswer === "b") {
                        mbti[question.dimension[1]]++;
                    }
                });

                const type =
                    (mbti.E > mbti.I ? "E" : "I") +
                    (mbti.S > mbti.N ? "S" : "N") +
                    (mbti.T > mbti.F ? "T" : "F") +
                    (mbti.J > mbti.P ? "J" : "P");

                const result = results[type];
                resultContainer.innerHTML = `
                    <img src="${result.image}" alt="${type}">
                `;
                resultWrapper.style.display = "block";
                quizWrapper.style.display = "none";
                body.classList.add("resultBackground");
                body.classList.remove("quizBackground");
                window.localStorage.setItem("mbti", type);
            }

            const quizWrapper = document.getElementById("quizWrapper");
            const quizContainer = document.getElementById("quiz");
            const submitButton = document.getElementById("submit");
            const resultWrapper = document.getElementById("resultWrapper");
            const resultContainer = document.getElementById("result");
            const body = document.body;

            if (window.localStorage.getItem("mbti")) {
                showResults();
            } else {
                buildQuiz();
                submitButton.addEventListener("click", showResults);

                // 添加選項改變事件監聽器
                document.addEventListener("change", function (e) {
                    if (e.target.matches('input[type="radio"]')) {
                        const allAnswered = Array.from(
                            document.querySelectorAll(".question")
                        ).every((question) =>
                            question.querySelector("input:checked")
                        );
                        submitButton.disabled = !allAnswered;
                    }
                });

                // 初始禁用提交按鈕
                submitButton.disabled = true;
            }
        </script>
    </body>
</html>
